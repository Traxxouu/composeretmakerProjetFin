<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}TechShop{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>üñ•Ô∏è</text></svg>">
        {% block stylesheets %}
            <script src="https://cdn.tailwindcss.com"></script>
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body class="bg-gray-100">
        <nav class="bg-blue-600 text-white p-4">
            <div class="container mx-auto flex justify-between items-center">
                <a href="{{ path('app_home') }}" class="text-xl font-bold">EfreiTech</a>
                <div class="flex gap-6 items-center">
                    <a href="{{ path('app_home') }}" class="hover:underline">Accueil</a>
                    <a href="{{ path('app_produit_index') }}" class="hover:underline">Produits</a>
                    <a href="{{ path('app_contact') }}" class="hover:underline">Contact</a>
                    <a href="{{ path('app_mentions') }}" class="hover:underline">Mentions l√©gales</a>
                    
                    {% if app.user %}
                        <span>{{ app.user.email }}</span>
                        <a href="{{ path('app_profil') }}" class="hover:underline">Profil</a>
                        <a href="{{ path('app_logout') }}" class="bg-red-500 px-3 py-1 rounded">D√©connexion</a>
                    {% else %}
                        <a href="{{ path('app_login') }}" class="hover:underline">Connexion</a>
                        <a href="{{ path('app_register') }}" class="bg-green-500 px-3 py-1 rounded">Inscription</a>
                    {% endif %}
                </div>
            </div>
        </nav>

        <main class="container mx-auto p-6">
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="mb-4 p-4 rounded {% if label == 'success' %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}

            {% block body %}{% endblock %}
        </main>

        <footer class="bg-gray-800 text-white p-4 mt-8">
            <div class="container mx-auto text-center">
                <p>&copy; 2024 TechShop - Tous droits r√©serv√©s</p>
                <div class="flex justify-center gap-4 mt-2">
                    <a href="{{ path('app_mentions') }}" class="hover:underline">Mentions l√©gales</a>
                    <a href="{{ path('app_cgu') }}" class="hover:underline">CGU</a>
                    <a href="{{ path('app_cgv') }}" class="hover:underline">CGV</a>
                    <a href="{{ path('app_confidentialite') }}" class="hover:underline">Confidentialit√©</a>
                    <a href="{{ path('app_about') }}" class="hover:underline">Qui sommes-nous ?</a>
                </div>
            </div>
        </footer>
    </body>
</html>